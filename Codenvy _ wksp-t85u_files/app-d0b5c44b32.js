/******/!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}// webpackBootstrap
/******/
var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";var r=n(1),o=n(14),i=n(17),a=n(18),c=n(31),s=n(32),l=n(38),u=n(41),d=angular.module("codenvyDashboard",["ngAnimate","ngCookies","ngTouch","ngSanitize","braintree-angular","gavruk.card","ngResource","ngRoute","ui.codemirror","ui.gravatar","userDashboard","ngMessages"]);d.config(["$routeProvider",function(e){e.accessWhen=function(t,n){return n.resolve||(n.resolve={}),n.resolve.app=["cheBranding","$q","chePreferences",function(e,t,n){var r=t.defer();return n.getPreferences()||h?r.resolve():n.fetchPreferences().then(function(){r.resolve()},function(e){r.reject(e)}),r.promise}],e.when(t,n)},e.accessOtherWise=function(t){return t.resolve||(t.resolve={}),t.resolve.app=["$q","chePreferences",function(e,t){var n=e.defer();return t.getPreferences()||h?n.resolve():t.fetchPreferences().then(function(){n.resolve()},function(e){n.reject(e)}),n.promise}],e.otherwise(t)}}]);var h=!1;d.controller("LoginCtrl",c.LoginCtrl),d.config(["$routeProvider",function(e){e.accessWhen("/login",{title:"Login",templateUrl:"app/login/login.html",controller:"LoginCtrl",controllerAs:"loginCtrl"}).accessOtherWise({redirectTo:"/workspaces"})}]),d.run(["$rootScope","$routeParams","cheUIElementsInjectorService","workspaceDetailsService",function(e,t,n,r){e.$on("$routeChangeSuccess",function(n,r){r.$$route.title&&angular.isFunction(r.$$route.title)?e.currentPage=r.$$route.title(t):e.currentPage=r.$$route.title||"Dashboard"}),r.addSection("Idle timeout","The time period during which the workspace may be not used, before being stopped.","<timeout-info></timeout-info>")}]),d.factory("AuthInterceptor",["$window","$cookies","$q","$location","$log",function(e,t,n,r,o){return{request:function(t){0===t.url.indexOf("https://codenvy.com/api")&&(t.url=t.url.substring("https://codenvy.com".length));var r=t.headers.Authorization;return-1!==t.url.indexOf("/api/auth/login")||-1===t.url.indexOf("api/")||!e.sessionStorage.codenvyToken||r&&0!==r.length||(t.headers.Authorization=e.sessionStorage.codenvyToken),t||n.when(t)},response:function(e){return e||n.when(e)},responseError:function(e){return e.config&&(e.config.url.indexOf("localhost")>0||e.config.url.startsWith("/api/user")>0)&&(401===e.status||403===e.status)&&(o.info("Redirect to login page."),r.path("/login")),n.reject(e)}}}]),d.constant("userDashboardConfig",{developmentMode:h}),d.factory("AddMachineTokenToUrlInterceptor",["$injector","$q",function(e,t){function n(t){var n=e.get("$http").get("/api/machine/token/"+t);return n.then(function(e){return o[t]=e.data.machineToken,o[t]},function(e){return 304===e.status?o[t]:void 0})}function r(t){var n=void 0;return e.get("cheWorkspace").getWorkspaceAgents().forEach(function(e,r){t.startsWith(e.workspaceAgentData.path)&&(n=r)}),n}var o={};return{request:function(e){var i=r(e.url);return i?t.when(o[i]||n(i)).then(function(t){return e.headers.Authorization=t,e}):e||t.when(e)},responseError:function(e){var n=r(e.config.url);return e&&n&&(401===e.status||503===e.status)&&delete o[n],t.reject(e)}}}]),d.factory("CsrfPreventionInterceptor",["$injector","$q",function(e,t){function n(e){return"POST"===e||"PUT"===e||"DELETE"===e}function r(t){var n=e.get("cheWorkspace").getWorkspaceAgents(),r=!0,o=!1,i=void 0;try{for(var a,c=n.values()[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var s=a.value;if(t.startsWith(s.workspaceAgentData.path))return!0}}catch(l){o=!0,i=l}finally{try{!r&&c["return"]&&c["return"]()}finally{if(o)throw i}}return!1}function o(){var t=e.get("$http").get("/api/user/settings");return t.then(function(e){var t=e.headers(i);return t&&(a=t),t},function(e){return 304===e.status?a:void 0})}var i="X-CSRF-Token",a="";return{request:function(e){return r(e.url)?e:"GET"!==e.method||a?n(e.method)?t.when(a||o()).then(function(t){return e.headers[i]=t,e}):e:(e.headers[i]="Fetch",e)},response:function(e){var t=e.headers(i);return t&&"GET"===e.config.method&&(a=t),e}}}]),d.config(["$routeProvider","$locationProvider","$httpProvider",function(e,t,n){n.interceptors.push("AddMachineTokenToUrlInterceptor"),n.interceptors.push("CsrfPreventionInterceptor"),h&&(console.log("adding auth interceptor"),n.interceptors.push("AuthInterceptor"))}]),angular.module("ui.gravatar").config(["gravatarServiceProvider",function(e){e.defaults={size:43,"default":"mm"},e.secure=!0}]);var f=new i.Register(d);new u.MainDashboardConfig(f),new r.BillingConfig(f),new o.CodenvyNavbarConfig(f),new a.CodenvyComponentsConfig(f),new s.AccountConfig(f),new l.WorkspaceConfig(f)},function(e,t,n){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(2),i=n(3),a=n(4),c=n(5),s=n(6),l=n(7),u=n(8),d=n(9),h=n(10),f=n(11),m=n(12),v=n(13),p=function g(e){r(this,g),e.controller("BillingController",o.BillingController),e.service("billingService",i.BillingService),e.controller("CardInfoController",c.CardInfoController),e.directive("cardInfo",a.CardInfo),e.controller("AddCreditCardController",s.AddCreditCardController),e.directive("addCreditCard",l.AddCreditCard),e.controller("ListInvoicesController",d.ListInvoicesController),e.directive("listInvoices",u.ListInvoices),e.controller("RamInfoController",f.RamInfoController),e.directive("ramInfo",h.RamInfo),e.controller("MoreRamController",m.MoreRamController),e.controller("ErrorPopupController",v.ErrorPopupController),e.app.config(["$routeProvider",function(e){e.accessWhen("/billing",{reloadOnSearch:!1,title:"Billing",templateUrl:"app/billing/billing.html",controller:"BillingController",controllerAs:"billingController",resolve:{check:["$q","cheService",function(e,t){var n=e.defer();return t.fetchServices().then(function(){t.isServiceAvailable("creditcard")?n.resolve():n.reject()}),n.promise}]}})}])};t.BillingConfig=p},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(e){e[e.Summary=0]="Summary",e[e.Card=1]="Card",e[e.Invoices=2]="Invoices"}(r||(r={}));var i=function(){function e(t,o,i,a,c,s,l,u,d,h,f){n(this,e),this.tab=r,this.$location=t,this.$log=o,this.$mdDialog=i,this.$q=a,this.confirmDialogService=s,this.cheAPI=l,this.codenvyPayment=u,this.cheTeam=d,this.cheNotification=h,this.billingService=f,c.showIDE=!1,this.accountId="";var m=parseInt(r[this.$location.search().tab],10);this.selectedTabIndex=m?m:r.Summary,this.fetchCreditCard()}return e.$inject=["$location","$log","$mdDialog","$q","$rootScope","confirmDialogService","cheAPI","codenvyPayment","cheTeam","cheNotification","billingService"],o(e,[{key:"fetchAccountId",value:function(){var e=this;return this.cheTeam.fetchTeams().then(function(){e.accountId=e.cheTeam.getPersonalAccount().id},function(t){304===t.status&&(e.accountId=e.cheTeam.getPersonalAccount().id)})}},{key:"fetchCreditCard",value:function(){var e=this;return this.loading=!0,this.fetchAccountId().then(function(){return e.billingService.fetchCreditCard(e.accountId)}).then(function(t){e.creditCard=t,e.origCreditCard=angular.copy(e.creditCard)})["finally"](function(){e.loading=!1})}},{key:"getCreditCard",value:function(){this.creditCard=this.billingService.getCreditCard(this.accountId),this.origCreditCard=angular.copy(this.creditCard)}},{key:"creditCardChanged",value:function(e){this.creditCard=angular.copy(e)}},{key:"creditCardDeleted",value:function(){var e=this,t=this.confirmDialogService.showConfirmDialog("Remove billing information","Are you sure you want to delete all your billing information? This is irreversible.","Delete");t.then(function(){e.loading=!0,e.billingService.removeCreditCard(e.creditCard.accountId,e.creditCard.token).then(function(){return e.fetchCreditCard()},function(t){e.cheNotification.showError(t&&t.data&&t.data.message?t.data.message:"Failed to delete the credit card.")})["finally"](function(){e.loading=!1})})}},{key:"saveCard",value:function(){var e=this;this.loading=!0;var t=void 0;t=this.creditCard.token?this.billingService.updateCreditCard(this.accountId,this.creditCard):this.billingService.addCreditCard(this.accountId,this.creditCard),t.then(function(t){return t&&t.problems&&t.problems.length?void e.showProblems(t.problems):e.fetchCreditCard()},function(t){if(t&&t.problems&&t.problems.length)e.showProblems(t.problems);else{var n={message:"Failed to save the credit card."};e.showProblems([n])}})["finally"](function(){e.loading=!1})}},{key:"cancelCard",value:function(){this.creditCard=angular.copy(this.origCreditCard)}},{key:"registerCardInfoForm",value:function(e){this.cardInfoForm=e}},{key:"isSaveButtonDisabled",value:function(){return!(this.cardInfoForm&&this.cardInfoForm.$valid)||angular.equals(this.creditCard,this.origCreditCard)}},{key:"isSaveButtonVisible",value:function(){return this.selectedTabIndex===r.Card&&!this.loading}},{key:"showProblems",value:function(e){var t=[];e.forEach(function(e){t.push(e.message)}),this.$mdDialog.show({controller:"ErrorPopupController",controllerAs:"errorPopupController",bindToController:!0,clickOutsideToClose:!0,locals:{messages:t},templateUrl:"app/billing/error-popup/error-popup.html"})}},{key:"onSelectTab",value:function(e){this.$location.search("tab",r[e]),e===r.Card&&this.getCreditCard()}}]),e}();t.BillingController=i},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o,i){n(this,e),this.$log=r,this.$q=t,this.cheAPI=o,this.codenvyPayment=i}return e.$inject=["$q","$log","cheAPI","codenvyPayment"],r(e,[{key:"fetchCreditCard",value:function(e){var t=this,n=this.$q.defer();return this.codenvyPayment.fetchAllCreditCards(e).then(function(){var r=t.getCreditCard(e);n.resolve(r)},function(r){if(304===r.status){var o=t.getCreditCard(e);n.resolve(o)}else t.$log.error(r),n.reject(r)}),n.promise}},{key:"getCreditCard",value:function(e){var t=this.codenvyPayment.getCreditCards(e)||[];return t[0]||null}},{key:"removeCreditCard",value:function(e,t){var n=this;return this.codenvyPayment.removeCreditCard(e,t).then(function(){angular.noop()},function(e){n.$log.error(e)})}},{key:"addCreditCard",value:function(e,t){return this.codenvyPayment.addCreditCard(e,t)}},{key:"updateCreditCard",value:function(e,t){return this.codenvyPayment.updateCreditCard(e,t)}}]),e}();t.BillingService=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function o(){n(this,o),this.restrict="E",this.replace=!1,this.templateUrl="app/billing/card-info/card-info.html",this.bindToController=!0,this.controller="CardInfoController",this.controllerAs="cardInfoController",this.scope={creditCard:"=",creditCardShowWidget:"=",creditCardOnChange:"&?",creditCardOnDelete:"&?"}};t.CardInfo=r},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r){n(this,e),this.codenvyPayment=t,this.countries=angular.fromJson(r)}return e.$inject=["codenvyPayment","jsonCountries"],r(e,[{key:"infoChanged",value:function(e){this.creditCardOnChange({creditCard:this.creditCard})}},{key:"deleteCard",value:function(){this.creditCardOnDelete()}}]),e}();t.CardInfoController=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function o(){n(this,o)};t.AddCreditCardController=r},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){n(this,e),this.restrict="E",this.replace=!1,this.templateUrl="app/billing/card-info/add-credit-card/add-credit-card.html",this.bindToController=!0,this.controller="AddCreditCardController",this.controllerAs="addCreditCardController",this.$timeout=t,this.scope={creditCard:"="}}return e.$inject=["$timeout"],r(e,[{key:"link",value:function(e,t){var n=this;t.find(".addCreditCardForm").card({container:".card-wrapper",numberInput:'input[name="deskcardNumber"]',expiryInput:'input[name="deskexpires"]',cvcInput:'input[name="deskcvv"]',nameInput:'input[name="deskcardholder"]',formatting:!0});var r=e.$watch(function(){return t.find('input[name="deskcardNumber"]').is(":visible")},function(e){e&&(r(),n.$timeout(function(){t.find('input[name="deskcardNumber"]').focus()},100))})}}]),e}();t.AddCreditCard=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function o(){n(this,o),this.restrict="E",this.replace=!1,this.templateUrl="app/billing/invoices/list-invoices.html",this.bindToController=!0,this.controller="ListInvoicesController",this.controllerAs="listInvoicesController",this.scope={accountId:"="}};t.ListInvoices=r},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o,i){var a=this;n(this,e),this.codenvyInvoices=t,this.cheNotification=r,this.filter={creationDate:""},this.$filter=o,this.lodash=i,this.isLoading=!0,this.codenvyInvoices.fetchInvoices(this.accountId).then(function(){a.invoices=a.codenvyInvoices.getInvoices(a.accountId),a.formatInvoices(),a.isLoading=!1},function(e){a.isLoading=!1,304===e.status?(a.invoices=a.codenvyInvoices.getInvoices(a.accountId),a.formatInvoices()):a.cheNotification.showError(e&&e.data&&e.data.message?e.data.message:"Failed to load invoices.")})}return e.$inject=["codenvyInvoices","cheNotification","$filter","lodash"],r(e,[{key:"formatInvoices",value:function(){var e=this;this.invoices.forEach(function(t){t.creationDate=e.$filter("date")(new Date(t.creationDate),"dd-MMM-yyyy"),t.preview=e.lodash.find(t.links,function(e){return"text/html"===e.produces&&"get invoice"===e.rel})})}}]),e}();t.ListInvoicesController=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){n(this,e),this.$document=t,this.restrict="E",this.replace=!1,this.templateUrl="app/billing/ram-info/ram-info.html",this.bindToController=!0,this.controller="RamInfoController",this.controllerAs="ramInfoController",this.scope={accountId:"="}}return e.$inject=["$document"],r(e,[{key:"link",value:function(e){var t=this;e.$watch(function(){return t.$document.find(".get-more-ram-input input:visible").length},function(e){1===e&&t.$document.find(".get-more-ram-input input").focus()})}}]),e}();t.RamInfo=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o,i,a){n(this,e),this.$mdDialog=t,this.cheResourcesDistribution=r,this.codenvySubscription=o,this.lodash=i,this.resourceLimits=a.getResourceLimits(),this.getRamInfo()}return e.$inject=["$mdDialog","cheResourcesDistribution","codenvySubscription","lodash","resourcesService"],r(e,[{key:"getRamInfo",value:function(){var e=this;this.codenvySubscription.fetchLicense(this.accountId).then(function(){e.processLicense(e.codenvySubscription.getLicense(e.accountId))},function(t){304===t.status&&e.processLicense(e.codenvySubscription.getLicense(e.accountId))})}},{key:"processLicense",value:function(e){var t=this,n=e.resourcesDetails,r=this.lodash.find(n,function(e){return"free"===e.providerId});r?this.freeRAM=this.getRamValue(r.resources):this.freeRAM=0,this.totalRAM=this.getRamValue(e.totalResources),this.cheResourcesDistribution.fetchAvailableOrganizationResources(this.accountId).then(function(){var e=t.cheResourcesDistribution.getAvailableOrganizationResources(t.accountId);t.usedRAM=t.totalRAM-t.getRamValue(e)},function(e){if(304===e.status){var n=t.cheResourcesDistribution.getAvailableOrganizationResources(t.accountId);t.usedRAM=t.totalRAM-t.getRamValue(n)}})}},{key:"getRamValue",value:function(e){var t=this;if(!e||0===e.length)return 0;var n=this.lodash.find(e,function(e){return e.type===t.resourceLimits.RAM});return n&&-1!==n.amount?n.amount/1024:n.amount}},{key:"getMoreRAM",value:function(){this.$mdDialog.show({controller:"MoreRamController",controllerAs:"moreRamController",bindToController:!0,clickOutsideToClose:!0,locals:{accountId:this.accountId,totalRAM:this.totalRAM,usedRAM:this.usedRAM,freeRAM:this.freeRAM,callbackController:this},templateUrl:"app/billing/ram-info/more-ram-dialog.html"})}},{key:"onRAMChanged",value:function(){this.getRamInfo()}}]),e}();t.RamInfoController=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(e){e[e.ONE=1]="ONE",e[e.TWO=2]="TWO"}(r||(r={}));var i=function(){function e(t,o,i,a,c,s,l){n(this,e),this.$q=o,this.$mdDialog=t,this.codenvySubscription=i,this.lodash=a,this.cheNotification=c,this.billingService=s,this.isLoading=!0,this.step=r,this.currentStep=r.ONE,this.resourceLimits=l.getResourceLimits(),this.calcDateBasedValues(),this.getPackages(),this.fetchCreditCard()}return e.$inject=["$mdDialog","$q","codenvySubscription","lodash","cheNotification","billingService","resourcesService"],o(e,[{key:"calcDateBasedValues",value:function(){var e=new Date;this.nextMonthChargeDate=11===e.getMonth()?new Date(e.getFullYear()+1,0,1):new Date(e.getFullYear(),e.getMonth()+1,1),this.leftDaysInMonth=new Date(e.getFullYear(),e.getMonth()+1,0).getDate()-e.getDate()+1}},{key:"getPackages",value:function(){var e=this;this.isLoading=!0,this.codenvySubscription.fetchPackages().then(function(){e.isLoading=!1,e.processPackages(e.codenvySubscription.getPackages())},function(t){e.isLoading=!1,304===t.status&&e.processPackages(e.codenvySubscription.getPackages())})}},{key:"processPackages",value:function(e){var t=this;if(this.ramPackage=this.lodash.find(e,function(e){return e.type===t.resourceLimits.RAM}),this.ramPackage){var n=this.lodash.find(this.ramPackage.resources,function(e){return e.type===t.resourceLimits.RAM});if(this.timeoutResource=this.lodash.find(this.ramPackage.resources,function(e){return e.type===t.resourceLimits.TIMEOUT}),n){this.price=n.fullPrice,this.partialPrice=n.partialPrice,this.amount=n.amount/1024+"GB",this.minValue=n.minAmount/1024;var r=this.totalRAM-this.freeRAM;this.maxValue=n.maxAmount/1024-r,this.value=angular.copy(this.minValue),this.timeout=this.timeoutResource?this.timeoutResource.amount/60:4}}}},{key:"calcRequestMonthlyCost",value:function(){return this.price*this.value}},{key:"calcChargedAmount",value:function(){return this.partialPrice*this.value*this.leftDaysInMonth}},{key:"calcNextMonthChargeAmount",value:function(){return this.price*(this.value+this.totalRAM-this.freeRAM)}},{key:"hide",value:function(){this.$mdDialog.hide()}},{key:"getMoreRAM",value:function(){var e=this;if(!this.creditCard&&this.currentStep===r.ONE)return void(this.currentStep=r.TWO);this.isLoading=!0;var t=void 0;if(this.creditCard.token){var n=this.$q.defer();t=n.promise,n.resolve()}else t=this.saveCard();t.then(function(){return e.codenvySubscription.fetchActiveSubscription(e.accountId)["finally"](function(){e.processSubscription(e.codenvySubscription.getActiveSubscription(e.accountId))})})["finally"](function(){e.isLoading=!1})}},{key:"processSubscription",value:function(e){var t=this,n=1024*this.value,r=void 0;if(e){var o=angular.copy(e.packages),i=this.lodash.find(o,function(e){return e.templateId===t.ramPackage.id});if(i){var a=this.lodash.find(i.resources,function(e){return e.type===t.resourceLimits.RAM});a?a.amount+=n:i.resources.push(this.prepareRAMResource(n))}else{var c=[this.prepareRAMResource(n)];o.push({resources:c})}r=this.codenvySubscription.updateSubscription(this.accountId,o)}else{var s=[],l=[this.prepareRAMResource(n),this.prepareTimeoutResource()];s.push({resources:l,templateId:this.ramPackage.id}),r=this.codenvySubscription.createSubscription(this.accountId,s)}r.then(function(){t.isLoading=!1,t.callbackController.onRAMChanged(),t.hide()},function(e){t.isLoading=!1,t.cheNotification.showError(e.data&&e.data.message?e.data.message:"Failed to add more RAM to account.")})}},{key:"prepareRAMResource",value:function(e){return{amount:e,unit:"mb",type:this.resourceLimits.RAM}}},{key:"prepareTimeoutResource",value:function(){return{amount:this.timeoutResource.amount,unit:this.timeoutResource.unit,type:this.resourceLimits.TIMEOUT}}},{key:"fetchCreditCard",value:function(){var e=this;return this.billingService.fetchCreditCard(this.accountId).then(function(t){e.creditCard=t})}},{key:"saveCard",value:function(){var e=this;return this.isLoading=!0,this.billingService.addCreditCard(this.accountId,this.creditCard).then(function(){return e.fetchCreditCard()},function(t){e.cheNotification.showError(t&&t.data&&t.data.message?t.data.message:"Failed to save the credit card.")})["finally"](function(){e.isLoading=!1})}}]),e}();t.MoreRamController=i},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){n(this,e),this.$mdDialog=t}return e.$inject=["$mdDialog"],r(e,[{key:"hide",value:function(){this.$mdDialog.hide()}}]),e}();t.ErrorPopupController=o},function(e,t,n){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(15),i=n(16),a=function c(e){r(this,c),e.controller("CodenvyNavBarController",o.CodenvyNavBarController),e.directive("codenvyNavBar",i.CodenvyNavBar)};t.CodenvyNavbarConfig=a},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o,i,a,c,s,l,u,d,h,f){var m=this;n(this,e),this.menuItemUrl={login:"/site/login",dashboard:"#/",workspaces:"#/workspaces",stacks:"#/stacks",factories:"#/factories",administration:"#/onprem/administration",organizations:"#/organizations",usermanagement:"#/admin/usermanagement"},this.accountItems=[{name:"Profile & Account",url:"#/account"},{name:"Administration",url:"#/administration"},{name:"Logout",onclick:function(){m.logout()}}],this.links=[{href:"#/create-workspace",name:"New Workspace"}],this.$mdSidenav=t,this.$scope=r,this.$location=o,this.$route=i,this.cheAPI=c,this.codenvyAPI=s,this.cheFactory=c.getFactory(),this.chePermissions=c.getPermissions(),this.$rootScope=l,this.$window=d,this.$resource=f,this.$cookies=h,this.logoutAPI=this.$resource("/api/auth/logout",{}),this.displayLoginItem=a.developmentMode;var v=this.cheAPI.getService().fetchServices();v.then(function(){m.isFactoryServiceAvailable=c.getService().isServiceAvailable(m.cheFactory.getFactoryServicePath());var e=c.getService().isServiceAvailable(s.getPayment().getPaymentServicePath());e&&m.accountItems.splice(1,0,{name:"Billing",url:"#/billing"})}),this.profile=c.getProfile().getProfile(),r.$on("$locationChangeStart",function(){var e="#"+o.path();r.$broadcast("navbar-selected:set",e)});var p="assets/branding/";u.get(p+"product.json").then(function(e){e.data.navbarButton&&(m.$rootScope.branding.navbarButton={title:e.data.navbarButton.title,tooltip:e.data.navbarButton.tooltip,link:e.data.navbarButton.link},m.accountItems.splice(2,0,{name:e.data.navbarButton.title,url:e.data.navbarButton.link}))}),c.cheWorkspace.fetchWorkspaces(),this.userServices=this.chePermissions.getUserServices(),this.chePermissions.getSystemPermissions()?this.updateData():this.chePermissions.fetchSystemPermissions()["finally"](function(){m.updateData()})}return e.$inject=["$mdSidenav","$scope","$location","$route","userDashboardConfig","cheAPI","codenvyAPI","$rootScope","$http","$window","$cookies","$resource"],r(e,[{key:"updateData",value:function(){var e=this,t=this.cheAPI.getOrganization();t.fetchOrganizations().then(function(){e.organizations=t.getOrganizations();var n=e.cheAPI.getUser().getUser();t.fetchOrganizationByName(n.name)["finally"](function(){e.hasPersonalAccount=angular.isDefined(t.getOrganizationByName(n.name))})})}},{key:"reload",value:function(){this.$route.reload()}},{key:"getUserName",value:function(){var e=this.profile,t=e.attributes,n=e.email,r=this.cheAPI.getProfile().getFullName(t).trim();return r?r:n}},{key:"getWorkspacesNumber",value:function(){return this.cheAPI.cheWorkspace.getWorkspaces().length}},{key:"getFactoriesNumber",value:function(){var e=this.cheFactory.getPagesInfo();return e&&e.count?e.count:this.cheFactory.factoriesById.size}},{key:"getOrganizationsNumber",value:function(){return this.organizations?this.organizations.length:0}},{key:"getRootOrganizationsNumber",value:function(){if(!this.organizations)return 0;var e=this.organizations.filter(function(e){return!e.parent});return e.length}},{key:"logout",value:function(){var e=this,t={token:this.$cookies["session-access-key"]},n=this.logoutAPI.save(t).$promise;n.then(function(){e.$rootScope.showIDE=!1,e.$window.location.href=e.menuItemUrl.login,e.$cookies.remove("LICENSE_EXPIRED")})}}]),e}();t.CodenvyNavBarController=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function o(){n(this,o),this.restrict="E",this.replace=!1,this.templateUrl="app/navbar/codenvy-navbar.html",this.controller="CodenvyNavBarController",this.controllerAs="codenvyNavbarController"};t.CodenvyNavBar=r},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){n(this,e),this.app=t}return r(e,[{key:"directive",value:function(e,t){t=this._normalizeConstructor(t),t.prototype.compile||(t.prototype.compile=function(){});var n=this._cloneFunction(t.prototype.compile);this._override(t.prototype,"compile",function(){return function(){return n.apply(this,arguments),t.prototype.link?t.prototype.link.bind(this):void 0}});var r=this._createFactoryArray(t);return this.app.directive(e,r),this}},{key:"filter",value:function(e,t){return this.app.filter(e,t),this}},{key:"controller",value:function(e,t){return this.app.controller(e,t),this}},{key:"service",value:function(e,t){return this.app.service(e,t),this}},{key:"provider",value:function(e,t){return this.app.provider(e,t),this}},{key:"factory",value:function(e,t){t=this._normalizeConstructor(t);var n=this._createFactoryArray(t);return this.app.factory(e,n),this}},{key:"_normalizeConstructor",value:function(e){var t;if(!e){var n=(new Error).stack;console.log("Invalid constructor",n)}if(e.constructor===Array){var r=e.slice(0,e.length-1);t=e[e.length-1],t.$inject=r}else t=e;return t}},{key:"_createFactoryArray",value:function(e){var t=e.$inject||[],n=t.slice();return n.push(function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];var o=new(Function.prototype.bind.apply(e,[null].concat(n)));for(var i in o)o[i]=o[i];return o}),n}},{key:"_cloneFunction",value:function(e){return function(){return e.apply(this,arguments)}}},{key:"_override",value:function(e,t,n){e[t]=n(e[t])}}]),e}();t.Register=o},function(e,t,n){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(19),i=function a(e){r(this,a),new o.CodenvyApiConfig(e)};t.CodenvyComponentsConfig=i},function(e,t,n){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(20),i=n(21),a=n(22),c=n(24),s=n(26),l=n(27),u=n(28),d=n(29),h=n(30),f=function m(e){r(this,m),e.app.constant("clientTokenPath","/"),e.factory("codenvySystem",i.CodenvySystem),e.factory("codenvyAPI",o.CodenvyAPI),e.factory("codenvyAPIBuilder",a.CodenvyAPIBuilder),e.factory("codenvyHttpBackend",c.CodenvyHttpBackendFactory),e.factory("codenvyHttpBackendProvider",s.CodenvyHttpBackendProviderFactory),e.factory("codenvyPayment",l.CodenvyPayment),e.factory("codenvyInvoices",u.CodenvyInvoices),e.factory("codenvySubscription",d.CodenvySubscription),e.factory("codenvyInvite",h.CodenvyInvite)};t.CodenvyApiConfig=f},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o){n(this,e),this.codenvySystem=t,this.codenvyPayment=r,this.codenvyInvoices=o}return e.$inject=["codenvySystem","codenvyPayment","codenvyInvoices"],r(e,[{key:"getPayment",value:function(){return this.codenvyPayment}},{key:"getSystem",value:function(){return this.codenvySystem}},{key:"getInvoices",value:function(){return this.codenvyInvoices}}]),e}();t.CodenvyAPI=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o,i){n(this,e),this.cheWebsocket=r,this.applicationNotifications=o,this.$log=i,this.SYSTEM_RAM_CHANNEL="system_ram_channel",this.LOW_RAM_TITLE="Low RAM",this.LOW_RAM_MESSAGE="The system is low on RAM. New workspaces will not start until more RAM is available.",this.systemAPI=t("/api/system/ram",{},{getLimit:{method:"GET",url:"/api/system/ram/limit"}}),this.listenToSystemRamEvent(),this.getSystemRAMLimit()}return e.$inject=["$resource","cheWebsocket","applicationNotifications","$log"],r(e,[{key:"getSystemRAMLimit",value:function(){var e=this,t=this.systemAPI.getLimit().$promise;t.then(function(t){t.systemRamLimitExceeded&&(e.notification=e.applicationNotifications.addErrorNotification(e.LOW_RAM_TITLE,e.LOW_RAM_MESSAGE))},function(t){e.$log.error("Failed to get system RAM limit: ",t)})}},{key:"listenToSystemRamEvent",value:function(){var e=this,t=this.cheWebsocket.getBus();t.subscribe(this.SYSTEM_RAM_CHANNEL,function(t){t.systemRamLimitExceeded?e.notification=e.applicationNotifications.addErrorNotification(e.LOW_RAM_TITLE,e.LOW_RAM_MESSAGE):e.notification&&e.applicationNotifications.removeNotification(e.notification)})}}]),e}();t.CodenvySystem=o},function(e,t,n){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(23),a=function(){function e(){r(this,e)}return o(e,[{key:"getResourceBuilder",value:function(){return new i.CodenvyResourceBuilder}}]),e}();t.CodenvyAPIBuilder=a},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e),this.resource={type:"",amount:0,unit:""}}return r(e,[{key:"withType",value:function(e){return this.resource.type=e,this}},{key:"withAmount",value:function(e){return this.resource.amount=e,this}},{key:"withUnit",value:function(e){return this.resource.unit=e,this}},{key:"build",value:function(){return this.resource}}]),e}();t.CodenvyResourceBuilder=o},function(e,t,n){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(25),c=function(e){function t(e,n){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return t.$inject=["$httpBackend","codenvyAPIBuilder"],i(t,e),t}(a.CodenvyHttpBackend);t.CodenvyHttpBackendFactory=c},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r){n(this,e),this.httpBackend=t,this.defaultBranding={},this.teamsMap=new Map,this.permissionsMap=new Map,this.resourcesMap=new Map,this.httpBackend.when("OPTIONS","/api/").respond({}),this.httpBackend.when("GET","/api/user/settings").respond({}),this.httpBackend.when("POST","/api/user/password").respond(function(){return[200,{success:!0,errors:[]}]}),this.httpBackend.when("POST","/api/user").respond(function(){return[200,{success:!0,errors:[]}]}),this.httpBackend.when("GET","/api/user/inrole?role=admin&scope=system&scopeId=").respond(!1),this.httpBackend.when("GET","/api/user/inrole?role=user&scope=system&scopeId=").respond(!0),this.httpBackend.when("GET","assets/branding/product.json").respond(this.defaultBranding),this.httpBackend.when("GET",/\/_app\/compilation-mappings(\?.*$)?/).respond(200,""),this.httpBackend.when("GET","/api/workspace/settings").respond({})}return r(e,[{key:"getHttpBackend",value:function(){return this.httpBackend}},{key:"teamsBackendSetup",value:function(){var e=[],t=this.teamsMap.keys(),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value,s=this.teamsMap.get(c);this.httpBackend.when("GET","/api/organization/"+s.id).respond(s),this.httpBackend.when("DELETE","/api/organization/"+s.id).respond(function(){return[200,{success:!0,errors:[]}]}),e.push(s)}}catch(l){r=!0,o=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw o}}this.httpBackend.when("GET",/\/api\/organization(\?.*$)?/).respond(e)}},{key:"addTeamById",value:function(e){this.teamsMap.set(e.id,e)}},{key:"permissionsBackendSetup",value:function(){var e=this.permissionsMap.keys(),t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,c=this.permissionsMap.get(a),s=c[0],l=s.domainId,u=s.instanceId;this.httpBackend.when("GET","/api/permissions/"+l+"/all?instance="+u).respond(c)}}catch(d){n=!0,r=d}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}}},{key:"addPermissions",value:function(e){var t=e.domainId+"|"+e.instanceId;this.permissionsMap.has(t)?this.permissionsMap.get(t).push(e):this.permissionsMap.set(t,[e])}},{key:"resourcesBackendSetup",value:function(){var e=this.resourcesMap.keys(),t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,c=this.resourcesMap.get(a);if(c.has("distributed")){var s=c.get("distributed");this.httpBackend.when("GET","/api/organization/resource/"+a+"/cap").respond(s)}if(c.has("total")){var l=c.get("total");this.httpBackend.when("GET","/api/resource/"+a).respond(l)}}}catch(u){n=!0,r=u}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}}},{key:"addResource",value:function(e,t,n){this.resourcesMap.has(e)||this.resourcesMap.set(e,new Map);var r=this.resourcesMap.get(e);r.has(t)?r.get(t).push(n):r.set(t,[n])}}]),e}();t.CodenvyHttpBackend=o},function(e,t,n){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(25),a=function(){function e(){r(this,e)}return o(e,[{key:"buildBackend",value:function(e,t){return e.whenGET(new RegExp("components.*")).passThrough(),e.whenGET(new RegExp("^app.*")).passThrough(),new i.CodenvyHttpBackend(e,t)}}]),e}();t.CodenvyHttpBackendProviderFactory=a},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o,i){n(this,e),this.$resource=t,this.$braintree=r,this.$q=o,this.$log=i,this.creditCardsPerAccount=new Map,this.tokensPerAccount=new Map,this.remotePaymentAPI=this.$resource("/api/creditcard/:accountId",{},{getToken:{method:"GET",url:"/api/creditcard/:accountId/token"},add:{method:"POST",url:"/api/creditcard/:accountId"},update:{method:"PUT",url:"/api/creditcard/:accountId/:creditCardToken"},remove:{method:"DELETE",url:"/api/creditcard/:accountId/:creditCardToken"},get:{method:"GET",url:"/api/creditcard/:accountId/:creditCardToken"}})}return e.$inject=["$resource","$braintree","$q","$log"],r(e,[{key:"getPaymentServicePath",value:function(){return"creditcard"}},{key:"fetchAllCreditCards",value:function(e){var t=this,n=this.remotePaymentAPI.query({accountId:e}).$promise,r=n.then(function(n){t.creditCardsPerAccount.set(e,n)});return r}},{key:"getCreditCards",value:function(e){return this.creditCardsPerAccount.get(e)}},{key:"getClientToken",value:function(e){var t=this,n=this.remotePaymentAPI.getToken({accountId:e}).$promise;return n.then(function(n){t.tokensPerAccount.set(e,n.token)})}},{key:"addCreditCard",value:function(e,t){var n=this,r=void 0,o={};o.number=t.number,o.cardholderName=t.cardholder,o.expirationDate=t.expirationDate.replace(/ /g,""),o.cvv=t.cvv,o.billingAddress={},o.billingAddress={postalCode:t.postcode};var i=this.$q.defer();return this.getClientToken(e).then(function(){r=new n.$braintree.api.Client({clientToken:n.tokensPerAccount.get(e)}),r.tokenizeCard(o,function(r,o){var a={nonce:o};a.state=t.state,a.country=t.country,a.streetAddress=t.streetAddress,a.city=t.city,n.remotePaymentAPI.add({accountId:e},a).$promise.then(function(e){i.resolve(e)},function(e){i.reject(e)})})},function(e){i.reject(e)}),i.promise}},{key:"updateCreditCard",value:function(e,t){var n={streetAddress:t.streetAddress,city:t.city,country:t.country,state:t.state};return this.remotePaymentAPI.update({accountId:e,creditCardToken:t.token},n).$promise}},{key:"removeCreditCard",value:function(e,t){return this.remotePaymentAPI.remove({accountId:e,creditCardToken:t}).$promise}}]),e}();t.CodenvyPayment=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o){n(this,e),this.$resource=t,this.$q=r,this.$log=o,this.invoicesPerAccount=new Map,this.remoteInvoicesAPI=this.$resource("/api/invoice/:accountId",{},{getInvoices:{method:"GET",url:"/api/invoice/:accountId",isArray:!0}})}return e.$inject=["$resource","$q","$log"],r(e,[{key:"fetchInvoices",value:function(e){var t=this,n=this.remoteInvoicesAPI.getInvoices({accountId:e}).$promise,r=n.then(function(n){t.invoicesPerAccount.set(e,n)});return r}},{key:"getInvoices",value:function(e){return this.invoicesPerAccount.get(e)}}]),e}();t.CodenvyInvoices=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o){n(this,e),this.$resource=t,this.$q=r,this.$log=o,this.subscriptionsPerAccount=new Map,this.licensesPerAccount=new Map,this.packages=[],this.remoteSubscriptionAPI=this.$resource("/api/subscription/:accountId",{},{getActiveSubscription:{method:"GET",url:"/api/subscription/:accountId"},createSubscription:{method:"POST",url:"/api/subscription/:accountId"},updateSubscription:{method:"PUT",url:"/api/subscription/:accountId"},getLicense:{method:"GET",url:"/api/license/account/:accountId"},getPackages:{method:"GET",url:"/api/package",isArray:!0}})}return e.$inject=["$resource","$q","$log"],r(e,[{key:"fetchActiveSubscription",value:function(e){var t=this,n=this.remoteSubscriptionAPI.getActiveSubscription({accountId:e}).$promise,r=n.then(function(n){t.subscriptionsPerAccount.set(e,n)});return r}},{key:"getActiveSubscription",value:function(e){return this.subscriptionsPerAccount.get(e)}},{key:"updateSubscription",value:function(e,t){return this.remoteSubscriptionAPI.updateSubscription({accountId:e},t).$promise}},{key:"createSubscription",value:function(e,t){return this.remoteSubscriptionAPI.createSubscription({accountId:e},t).$promise}},{key:"fetchLicense",value:function(e){var t=this,n=this.remoteSubscriptionAPI.getLicense({accountId:e}).$promise,r=n.then(function(n){t.licensesPerAccount.set(e,n)});return r}},{key:"getLicense",value:function(e){return this.licensesPerAccount.get(e)}},{key:"fetchPackages",value:function(){var e=this,t=this.remoteSubscriptionAPI.getPackages().$promise,n=t.then(function(t){e.packages=t});return n}},{key:"getPackages",value:function(){return this.packages}}]),e}();t.CodenvySubscription=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r){n(this,e),this.$q=t,this.$resource=r,this.teamInvitations=new Map,this.remoteInviteAPI=this.$resource("/api/invite",{},{invite:{method:"POST",url:"/api/invite"},getInvited:{method:"GET",url:"/api/invite/:domain?instance=:instance",isArray:!0},remove:{method:"DELETE",url:"/api/invite/:domain?instance=:instance&email=:email"}})}return e.$inject=["$q","$resource"],r(e,[{key:"inviteToTeam",value:function(e,t,n){var r=this.remoteInviteAPI.invite({domainId:"organization",instanceId:e,email:t,actions:n}).$promise;return r}},{key:"fetchTeamInvitations",value:function(e){var t=this,n=this.$q.defer(),r=this.remoteInviteAPI.getInvited({domain:"organization",instance:e}).$promise;return r.then(function(r){t.teamInvitations.set(e,r),n.resolve(r)},function(r){304===r.status?n.resolve(t.teamInvitations.get(e)):n.reject(r)}),n.promise}},{key:"getTeamInvitations",value:function(e){return this.teamInvitations.get(e)}},{key:"deleteTeamInvitation",value:function(e,t){return this.remoteInviteAPI.remove({domain:"organization",instance:e,email:t}).$promise}}]),e}();t.CodenvyInvite=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o,i,a,c){n(this,e),this.username="",this.password="",this.$http=t,this.$cookies=r,this.$window=o,this.$timeout=a,this.cheUser=i,this.location=c,angular.element("#codenvynavbar").hide(),angular.element("#codenvyfooter").hide()}return e.$inject=["$http","$cookies","$window","cheUser","$timeout","$location"],r(e,[{key:"submit",value:function(){var e=this;this.error=null,this.loginInProgress=!0;var t={username:this.username,password:this.password};this.$http({url:"/api/auth/login",method:"POST",data:t}).then(function(t){e.$cookies.token=t.data.value,e.$window.sessionStorage.codenvyToken=t.data.value,e.$cookies.refreshStatus="DISABLED";var n=e.cheUser.fetchUser();n.then(function(){return e.refresh()},function(){return e.refresh()})},function(t){e.loginInProgress=!1,console.log("error on login",t),e.error=t.statusText})}},{key:"refresh",value:function(){var e=this;this.$location="/",this.$window.location="/",this.$timeout(function(){return e.$window.location.reload()},500)}}]),e}();t.LoginCtrl=o},function(e,t,n){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(33),i=n(34),a=n(35),c=n(36),s=n(37),l=function u(e){r(this,u),e.directive("accountUpdatePassword",c.AccountUpdatePassword),e.directive("codenvyAccountProfile",o.CodenvyAccountProfile),e.controller("AccountDeleteController",a.AccountDeleteController),e.directive("accountDelete",i.AccountDelete),e.controller("AccountController",s.AccountController),e.app.config(["$routeProvider",function(e){var t={title:"Account",templateUrl:"app/account/details/account.html",controller:"AccountController",controllerAs:"accountController"};e.accessWhen("/account",t).accessWhen("/account/:tabName",t)}])};t.AccountConfig=l},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r){n(this,e),this.restrict="E",this.templateUrl="app/account/details/profile/codenvy-account-profile.html",this.replace=!0,this.scope={profileAttributes:"=profileAttributes",profileInformationForm:"=?profileInformationForm"},this.jsonCountries=t,this.jsonJobs=r}return e.$inject=["jsonCountries","jsonJobs"],r(e,[{key:"link",value:function(e){e.countries=angular.fromJson(this.jsonCountries),e.jobs=angular.fromJson(this.jsonJobs)}}]),e}();t.CodenvyAccountProfile=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function o(){n(this,o),this.restrict="E",this.controller="AccountDeleteController",this.controllerAs="accountDeleteController",this.templateUrl="app/account/details/account-delete.html",this.scope={}};t.AccountDelete=r},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o,i,a){n(this,e),this.isLoading=!1,this.$window=t,this.$mdDialog=r,this.cheUser=o,this.cheNotification=i,this.confirmDialogService=a}return e.$inject=["$window","$mdDialog","cheUser","cheNotification","confirmDialogService"],r(e,[{key:"deleteAccount",value:function(){var e=this,t="This is irreversible. Please confirm your want to delete your account.",n=this.confirmDialogService.showConfirmDialog("Remove account",t,"Delete");n.then(function(){e.isLoading=!0,e.cheUser.deleteCurrentUser().then(function(){e.cheUser.logout()["finally"](function(){e.isLoading=!1,e.$window.location.href="/site/account-deleted"})},function(t){e.isLoading=!1,e.cheNotification.showError(t&&t.data&&t.data.message?t.data.message:"Account deletion failed.")})})}}]),e}();t.AccountDeleteController=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e),this.restrict="E",this.templateUrl="app/account/details/account-update-password.html",this.scope={newPassword:"=cdvyPassword",changePasswordForm:"=cdvyForm"}}return r(e,[{key:"link",value:function(e){var t=[/[a-z]/,/[A-Z]/,/\d/,/[^a-zA-Z\d]/],n=function(n){if(!n||!t||0===t.length)return void(e.passStrength=0);var r=n&&n.length>16?1:0;t.forEach(function(e){e.test(n)&&r++}),e.passStrength=100*r/t.length};e.onPasswordChange=function(t){e.confirmPassword="",n(t)},e.isPasswordMatch=function(t){return!t||t===e.newPassword}}}]),e}();t.AccountUpdatePassword=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o,i,a,c){var s=this;n(this,e),this.cheAPI=o,this.cheNotification=i,this.profile=this.cheAPI.getProfile().getProfile(),this.profileAttributes={},this.profile.attributes?this.profileAttributes=angular.copy(this.profile.attributes):this.profile.$promise.then(function(){s.profileAttributes=angular.copy(s.profile.attributes)});var l=t.tabName;if(l)switch(l){case"profile":this.selectedTabIndex=0;break;case"security":this.selectedTabIndex=1;break;default:r.path("/account")}else this.selectedTabIndex=0;var u=void 0;c.$watch(function(){return s.profileAttributes},function(){s.profileInformationForm&&!s.profileInformationForm.$invalid&&(angular.isDefined(u)&&a.cancel(u),u=a(function(){s.setProfileAttributes()},500))},!0),c.$on("$destroy",function(){angular.isDefined(u)&&a.cancel(u)})}return e.$inject=["$routeParams","$location","cheAPI","cheNotification","$timeout","$scope"],r(e,[{key:"isAttributesChanged",value:function(){return!angular.equals(this.profile.attributes,this.profileAttributes)}},{key:"setProfileAttributes",value:function(){var e=this;if(this.isAttributesChanged()){var t=this.cheAPI.getProfile().setAttributes(this.profileAttributes);this.isLoading=!0,t.then(function(){e.cheNotification.showInfo("Profile successfully updated."),e.profile.attributes=angular.copy(e.profileAttributes)},function(t){304===t.status?e.profile.attributes=angular.copy(e.profileAttributes):(e.profileAttributes=angular.copy(e.profile.attributes),e.cheNotification.showError(t.data.message?t.data.message:"Profile update failed."),console.log("error",t))})["finally"](function(){e.isLoading=!1})}}},{key:"setPassword",value:function(){var e=this;if(this.newPassword){var t=this.cheAPI.getUser().setPassword(this.newPassword);this.isLoading=!0,t.then(function(){e.cheNotification.showInfo("Password successfully updated."),e.newPassword=""},function(t){e.cheNotification.showError(t&&t.data&&t.data.message?t.data.message:"Password updated failed.")})["finally"](function(){e.isLoading=!1})}}}]),e}();t.AccountController=o},function(e,t,n){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(39),i=n(40),a=function c(e){r(this,c),e.controller("TimeoutInfoController",o.TimeoutInfoController),e.directive("timeoutInfo",i.TimeoutInfo)};t.WorkspaceConfig=a},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o,i,a,c,s,l){n(this,e),this.$mdDialog=t,this.cheTeam=o,this.cheResourcesDistribution=i,this.codenvySubscription=c,this.cheUser=a,this.lodash=s,this.resourceLimits=l.getResourceLimits(),this.fetchTeamDetails(r.current.params.namespace),this.getPackages()}return e.$inject=["$mdDialog","$route","cheTeam","cheResourcesDistribution","cheUser","codenvySubscription","lodash","resourcesService"],r(e,[{key:"fetchTeamDetails",value:function(e){var t=this;this.team=this.cheTeam.getTeamByName(e),this.team?this.fetchTimeoutValue(this.team.id):this.cheTeam.fetchTeamByName(e).then(function(e){t.team=e,t.fetchTimeoutValue(t.team.id)},function(n){304===n.status?(t.team=t.cheTeam.getTeamByName(e),t.fetchTimeoutValue(t.team.id)):404!==n.status||t.cheTeam.getPersonalAccount()||t.cheUser.getUser().name!==e||t.fetchTimeoutValue(t.cheUser.getUser().id)})}},{key:"fetchTimeoutValue",value:function(e){var t=this;this.cheResourcesDistribution.fetchAvailableOrganizationResources(e).then(function(){t.processTimeoutValue(t.cheResourcesDistribution.getAvailableOrganizationResources(e))},function(n){304===n.status&&t.processTimeoutValue(t.cheResourcesDistribution.getAvailableOrganizationResources(e))})}},{key:"processTimeoutValue",value:function(e){var t=this;if(e&&0!==e.length){var n=this.lodash.find(e,function(e){return e.type===t.resourceLimits.TIMEOUT});this.canBuy=this.cheTeam.getPersonalAccount()&&this.team&&this.cheTeam.getPersonalAccount().id===this.team.id,this.timeoutValue=n?n.amount<60?n.amount+" minute":n.amount/60+" hour":""}}},{key:"getPackages",value:function(){var e=this;this.codenvySubscription.fetchPackages().then(function(){e.processPackages(e.codenvySubscription.getPackages())},function(t){304===t.status?e.processPackages(e.codenvySubscription.getPackages()):e.timeout=null})}},{key:"processPackages",value:function(e){var t=this,n=this.lodash.find(e,function(e){return e.type===t.resourceLimits.RAM});if(!n)return void(this.timeout="4 hour");var r=this.lodash.find(n.resources,function(e){return e.type===t.resourceLimits.TIMEOUT});this.timeout=r?r.amount<60?r.amount+" minute":r.amount/60+" hour":"4 hour"}},{key:"getRamInfo",value:function(){var e=this;this.accountId=this.team.parent||this.team.id,this.codenvySubscription.fetchLicense(this.accountId).then(function(){e.processLicense(e.codenvySubscription.getLicense(e.accountId))},function(t){304===t.status&&e.processLicense(e.codenvySubscription.getLicense(e.accountId))})}},{key:"processLicense",value:function(e){var t=this,n=e.resourcesDetails,r=this.lodash.find(n,function(e){return"free"===e.providerId});r?this.freeRAM=this.getRamValue(r.resources):this.freeRAM=0,this.totalRAM=this.getRamValue(e.totalResources),this.cheResourcesDistribution.fetchAvailableOrganizationResources(this.accountId).then(function(){var e=t.cheResourcesDistribution.getAvailableOrganizationResources(t.accountId);t.usedRAM=t.totalRAM-t.getRamValue(e),t.getMoreRAM()},function(e){if(304===e.status){var n=t.cheResourcesDistribution.getAvailableOrganizationResources(t.accountId);t.usedRAM=t.totalRAM-t.getRamValue(n),t.getMoreRAM()}})}},{key:"getRamValue",value:function(e){var t=this;if(!e||0===e.length)return 0;var n=this.lodash.find(e,function(e){return e.type===t.resourceLimits.RAM});return n?n.amount/1024:0}},{key:"getMoreRAM",value:function(){this.$mdDialog.show({controller:"MoreRamController",controllerAs:"moreRamController",bindToController:!0,clickOutsideToClose:!0,locals:{accountId:this.accountId,totalRAM:this.totalRAM,usedRAM:this.usedRAM,freeRAM:this.freeRAM,callbackController:this},templateUrl:"app/billing/ram-info/more-ram-dialog.html"})}},{key:"onRAMChanged",value:function(){this.fetchTimeoutValue(this.team.id)}}]),e}();t.TimeoutInfoController=o},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function o(){n(this,o),this.restrict="E",this.replace=!1,this.templateUrl="app/workspace/timeout/timeout-info.html",this.bindToController=!0,this.controller="TimeoutInfoController",this.controllerAs="timeoutInfoController"};t.TimeoutInfo=r},function(e,t,n){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(42),i=function a(e){r(this,a),e.controller("MainDashboardController",o.MainDashboardController),e.app.config(["$routeProvider",function(e){e.accessWhen("/",{title:"Dashboard",templateUrl:"app/dashboard/main-dashboard.html",controller:"MainDashboardController",controllerAs:"mainDashboardController"})}])};t.MainDashboardConfig=i},function(e,t){/*
	 * Copyright (c) [2015] - [2017] Red Hat, Inc.
	 * All rights reserved. This program and the accompanying materials
	 * are made available under the terms of the Eclipse Public License v1.0
	 * which accompanies this distribution, and is available at
	 * http://www.eclipse.org/legal/epl-v10.html
	 *
	 * Contributors:
	 *   Red Hat, Inc. - initial API and implementation
	 */
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r){n(this,e),this.cheTeam=r,t.showIDE=!1,this.accountId="",this.fetchAccountId()}return e.$inject=["$rootScope","cheTeam"],r(e,[{key:"fetchAccountId",value:function(){var e=this;return this.cheTeam.fetchTeams().then(function(){e.accountId=e.cheTeam.getPersonalAccount()?e.cheTeam.getPersonalAccount().id:null},function(t){304===t.status&&(e.accountId=e.cheTeam.getPersonalAccount()?e.cheTeam.getPersonalAccount().id:null)})}}]),e}();t.MainDashboardController=o}]),angular.module("codenvyDashboard").run(["$templateCache",function(e){e.put("app/billing/billing.html",'<che-toolbar che-title="Billing"><div class="billing-save-button-placeholder"><che-button-save-flat ng-show="billingController.isSaveButtonVisible()" ng-disabled="billingController.isSaveButtonDisabled()" che-button-title="Save" name="saveButton" ng-click="billingController.saveCard()"></che-button-save-flat></div></che-toolbar><md-progress-linear md-mode="indeterminate" ng-show="billingController.loading"></md-progress-linear><md-content md-scroll-y="" flex="" class="billing-content" md-theme="default"><md-tabs class="billing-tabs" md-dynamic-height="" md-disable-animation="" md-stretch-tabs="auto" md-selected="billingController.selectedTabIndex" md-center-tabs="false" md-no-ink-bar=""><md-tab md-on-select="billingController.onSelectTab(billingController.tab.Summary)"><md-tab-label><span class="che-tab-label-title">Summary</span></md-tab-label><md-tab-body><div class="billing-summary"><ram-info account-id="billingController.accountId" ng-if="billingController.accountId"></ram-info><list-teams account-id="billingController.accountId" ng-if="billingController.accountId"></list-teams></div></md-tab-body></md-tab><!--md-tab md-on-select="billingController.onSelectTab(billingController.tab.Card);"><md-tab-label><span class="che-tab-label-title">Card</span></md-tab-label><md-tab-body><che-description>Having a question about subscriptions and billings in Codenvy - contact us at <a href="mailto:account-help@codenvy.com">account-help@codenvy.com</a></che-description><div class="billing-credit-card"><ng-form name="cardInfoForm"><fieldset ng-disabled="billingController.loading"><card-info ng-init="billingController.registerCardInfoForm(cardInfoForm)" credit-card="billingController.creditCard" credit-card-show-widget="billingController.tab.Card === billingController.selectedTabIndex" credit-card-on-change="billingController.creditCardChanged(creditCard)" credit-card-on-delete="billingController.creditCardDeleted()"></card-info></fieldset></ng-form></div></md-tab-body></md-tab--><md-tab md-on-select="billingController.onSelectTab(billingController.tab.Invoices)"><md-tab-label><span class="che-tab-label-title">Invoices</span></md-tab-label><md-tab-body><che-description>Having a question about subscriptions and billings in Codenvy - contact us at <a href="mailto:account-help@codenvy.com">account-help@codenvy.com</a></che-description><div class="billing-invoices"><list-invoices account-id="billingController.accountId" ng-if="billingController.accountId && (billingController.tab.Invoices === billingController.selectedTabIndex)"></list-invoices></div></md-tab-body></md-tab></md-tabs></md-content><workspace-edit-mode-overlay ng-if="billingController.isSaveButtonVisible()" workspace-edit-disable-save-button="billingController.isSaveButtonDisabled()" workspace-edit-mode-on-save="billingController.saveCard()" workspace-edit-mode-on-cancel="billingController.cancelCard()"></workspace-edit-mode-overlay>'),e.put("app/dashboard/main-dashboard.html",'<che-toolbar che-title="Dashboard"></che-toolbar><md-content layout="column" class="dashboard-content" md-scroll-y="" flex=""><ram-info account-id="mainDashboardController.accountId" ng-if="mainDashboardController.accountId" class="info-panel"></ram-info><dashboard-panel panel-title="Teams" ng-if="mainDashboardController.accountId"><div class="dashboard-add-button"><che-button-primary che-button-title="Create Team" ng-href="#/team/create"></che-button-primary></div><list-teams account-id="mainDashboardController.accountId" readonly="true"></list-teams></dashboard-panel><dashboard-last-workspaces></dashboard-last-workspaces><cdvy-last-factories></cdvy-last-factories></md-content>'),e.put("app/login/login.html",'<div layout="row" flex="" layout-align="center center"><che-panel che-title="Developer Mode Login" flex="50"><ng-form name="loginDeveloperForm"><che-input-box che-form="loginDeveloperForm" che-name="login" che-label-name="Login" che-place-holder="Login of the user" ng-model="loginCtrl.username" required="" ng-maxlength="128"><div ng-message="required">A login is required.</div></che-input-box><che-input-box che-form="loginDeveloperForm" che-name="password" che-label-name="Password" che-place-holder="Password of the user" ng-model="loginCtrl.password" ng-keyup="$event.keyCode == 13 && loginCtrl.submit()" type="password" required="" ng-maxlength="128"><div ng-message="required">A password is required.</div></che-input-box><che-button-primary ng-click="loginCtrl.submit()" che-button-title="Login"></che-button-primary><div layout="column" layout-align="center center"><md-progress-circular ng-show="loginCtrl.loginInProgress" class="md-hue-2" md-mode="indeterminate" md-theme="default"></md-progress-circular><div class="login-error-message" ng-show="loginCtrl.error">{{loginCtrl.error}}</div></div></ng-form></che-panel></div>'),e.put("app/navbar/codenvy-navbar.html",'<div class="left-sidebar-container" id="navbar"><md-toolbar class="flex-shrink-none"><md-progress-linear md-mode="indeterminate" ng-hide="codenvyNavbarController.profile"></md-progress-linear><div ng-show="codenvyNavbarController.profile" layout="column" flex=""><div flex="none" layout="row" layout-align="start center"><section class="navbar-top-logo logo-color-white" layout="column" layout-align="center left" ng-include="branding.logoText"></section><div flex=""></div><navbar-notification id="navbar-notification-container"></navbar-notification></div><md-divider md-theme="factory-theme"></md-divider><div class="admin-navbar-menu"><section class="left-sidebar-menu" layout="column" layout-align="center center"><md-list layout="column"><md-list-item flex="" class="navbar-subsection-item" ng-show="codenvyNavbarController.displayLoginItem"><md-button nav-bar-selected="" flex="" href="{{codenvyNavbarController.menuItemUrl.login}}" layout-align="left"><div class="navbar-item" layout="row" layout-align="start center"><i class="fa fa-user navbar-icon">&nbsp;</i> <span>Login</span></div></md-button></md-list-item><md-list-item flex="" class="navbar-subsection-item"><md-button nav-bar-selected="" flex="" che-reload-href="" href="{{codenvyNavbarController.menuItemUrl.dashboard}}" layout-align="left" target="_self"><div class="navbar-item" layout="row" layout-align="start center" id="navbar-dashboard-item"><md-icon md-font-icon="navbar-icon chefont cheico-dashboard" aria-label="Dashboard"></md-icon><span>Dashboard</span></div></md-button></md-list-item><md-list-item flex="" class="navbar-subsection-item"><md-button nav-bar-selected="" flex="" che-reload-href="" href="{{codenvyNavbarController.menuItemUrl.workspaces}}" layout-align="left"><div class="navbar-item" layout="row" layout-align="start center" id="navbar-workspaces-item"><md-icon md-font-icon="navbar-icon chefont cheico-workspace"></md-icon><span>Workspaces</span> <span class="navbar-number" ng-show="codenvyNavbarController.getWorkspacesNumber()">&nbsp;({{codenvyNavbarController.getWorkspacesNumber()}})</span></div></md-button></md-list-item><md-list-item flex="" class="navbar-subsection-item"><md-button nav-bar-selected="" flex="" che-reload-href="" href="{{codenvyNavbarController.menuItemUrl.stacks}}" layout-align="left"><div class="navbar-item" layout="row" layout-align="start center" id="navbar-stacks-item"><i class="fa fa-archive navbar-icon" aria-hidden="true"></i> <span>Stacks</span></div></md-button></md-list-item><md-list-item flex="" class="navbar-subsection-item" ng-if="codenvyNavbarController.isFactoryServiceAvailable"><md-button nav-bar-selected="" flex="" che-reload-href="" href="{{codenvyNavbarController.menuItemUrl.factories}}" layout-align="left"><div class="navbar-item" layout="row" layout-align="start center" id="navbar-factories-item"><md-icon md-font-icon="navbar-icon chefont cheico-factory"></md-icon><span>Factories</span> <span class="navbar-number" ng-show="codenvyNavbarController.getFactoriesNumber()">&nbsp;({{codenvyNavbarController.getFactoriesNumber()}})</span></div></md-button></md-list-item><md-list-item flex="" class="navbar-subsection-item" ng-if="!codenvyNavbarController.userServices.hasAdminUserService && !codenvyNavbarController.hasPersonalAccount"><md-button nav-bar-selected="" flex="" che-reload-href="" href="{{codenvyNavbarController.menuItemUrl.organizations}}" layout-align="left"><div class="navbar-item" layout="row" layout-align="start center" id="navbar-organizations-item"><md-icon md-font-icon="fa navbar-icon fa-sitemap"></md-icon><span>Organizations</span> <span class="navbar-number" ng-show="codenvyNavbarController.getOrganizationsNumber()">&nbsp;({{codenvyNavbarController.getOrganizationsNumber()}})</span></div></md-button></md-list-item></md-list></section></div><div class="admin-navbar-menu" ng-if="codenvyNavbarController.userServices.hasInstallationManagerService || codenvyNavbarController.userServices.hasAdminUserService"><section class="left-sidebar-menu" layout="column" layout-align="start start"><div class="navbar-section" flex="" layout="row" layout-align="start start"><span flex="" class="navbar-section-title">Administration</span></div><md-list layout="column"><md-list-item flex="" class="navbar-subsection-item" ng-if="codenvyNavbarController.userServices.hasAdminUserService"><md-button nav-bar-selected="" flex="" che-reload-href="" href="{{codenvyNavbarController.menuItemUrl.usermanagement}}" layout-align="left"><div class="navbar-item" layout="row" layout-align="start center"><i class="fa fa-user fa-lg navbar-icon"></i> <span>Users</span></div></md-button></md-list-item><md-list-item flex="" class="navbar-subsection-item" ng-if="codenvyNavbarController.userServices.hasAdminUserService"><md-button nav-bar-selected="" flex="" che-reload-href="" href="{{codenvyNavbarController.menuItemUrl.organizations}}" layout-align="left"><div class="navbar-item" layout="row" layout-align="start center"><md-icon md-font-icon="fa navbar-icon fa-sitemap"></md-icon><span>Organizations</span> <span class="navbar-number" ng-show="codenvyNavbarController.getRootOrganizationsNumber()">&nbsp;({{codenvyNavbarController.getRootOrganizationsNumber()}})</span></div></md-button></md-list-item></md-list></section></div><navbar-recent-workspaces></navbar-recent-workspaces><navbar-teams flex="" layout="column" layout-aling="start strength"></navbar-teams><div class="admin-navbar-menu"><section class="left-sidebar-menu navbar-account-section"><md-list layout="column" flex=""><md-list-item class="navbar-subsection-item"><navbar-dropdown-menu flex="" navbar-dropdown-items="codenvyNavbarController.accountItems" navbar-dropdown-offset="15 -85"><md-button ng-href="" layout-align="left"><div class="navbar-item navbar-identity" layout="row" layout-align="start center"><i class="navbar-icon" flex="none"><img class="developers-face" gravatar-src="codenvyNavbarController.profile.email"></i> <span flex="" style="text-align: left;">{{codenvyNavbarController.getUserName()}}</span> <i class="fa fa-angle-up navbar-icon" aria-hidden="true"></i></div></md-button></navbar-dropdown-menu></md-list-item></md-list></section></div></div></md-toolbar><div class="navbar-iframe-button-left-border" ng-show="showIDE"></div></div>'),e.put("app/account/details/account-delete.html",'<che-button-danger che-button-title="Delete this account" ng-disabled="accountDeleteController.isLoading" ng-click="accountDeleteController.deleteAccount()"></che-button-danger>'),e.put("app/account/details/account-update-password.html",'<div class="change-password-new-password"><che-input-box che-form="changePasswordForm" che-name="newPassword" che-place-holder="New password" pattern="^(?=.*[0-9]+.*)(?=.*[a-zA-Z]+.*).{0,}$" ng-model="newPassword" che-on-change="onPasswordChange($value)" type="password" required="" ng-minlength="8" ng-maxlength="100"><div ng-message="pattern">Password should contain both letters and digits</div><div ng-message="minlength">Password should contain at least 8 characters.</div><div ng-message="maxlength">The password has to be less than 100 characters long.</div><div class="password-strength"><span ng-class="{\'weak\':passStrength && passStrength <= 50}">Weak</span> <span ng-class="{\'fair\':passStrength && passStrength > 50 && passStrength <= 75}">Fair</span> <span ng-class="{\'good\':passStrength && passStrength > 75}">Good</span></div></che-input-box></div><div class="change-password-confirm-password"><che-input-box che-form="changePasswordForm" che-name="confirmPassword" che-place-holder="Confirm new password" ng-model="confirmPassword" custom-validator="isPasswordMatch($value)" type="password" required="" ng-maxlength="100"><div ng-message="maxlength">The password has to be less than 100 characters long.</div><div ng-message="customValidator">Password does not match the confirm password.</div></che-input-box></div>'),e.put("app/account/details/account.html",'<che-toolbar che-title="Account"></che-toolbar><md-content md-scroll-y="" flex=""><md-tabs md-dynamic-height="" md-stretch-tabs="auto" md-no-ink-bar="" md-selected="accountController.selectedTabIndex"><md-tab><md-tab-label><span class="che-tab-label-title">Profile</span></md-tab-label><md-tab-body><codenvy-account-profile profile-attributes="accountController.profileAttributes" profile-information-form="accountController.profileInformationForm"></codenvy-account-profile></md-tab-body></md-tab><md-tab><md-tab-label><span class="che-tab-label-title">Security</span></md-tab-label><md-tab-body><md-progress-linear md-mode="indeterminate" ng-show="accountController.isLoading"></md-progress-linear><div class="cdvy-account-security" ng-if="!accountController.isLoading"><che-label-container che-label-name="New password" che-label-description="Minimum 8 characters, both letters and digits."><ng-form name="changePasswordForm"><account-update-password change-password-form="changePasswordForm" cdvy-password="accountController.newPassword"></account-update-password><che-button-default che-button-title="Update Password" ng-disabled="!accountController.newPassword || changePasswordForm.$invalid" ng-click="accountController.setPassword()"></che-button-default></ng-form></che-label-container><che-label-container che-label-name="Delete account" che-label-description="Delete your account is irreversible."><account-delete></account-delete></che-label-container></div></md-tab-body></md-tab></md-tabs></md-content>'),e.put("app/billing/card-info/card-info.html",'<div class="card-info"><div><che-label-container che-label-name="Credit Card"></che-label-container></div><div ng-if="!cardInfoController.creditCard.token && cardInfoController.creditCardShowWidget"><ng-form name="cardInfoForm"><add-credit-card credit-card="cardInfoController.creditCard"></add-credit-card></ng-form></div><div ng-if="cardInfoController.creditCard.token"><div class="card-info-cardholder">{{cardInfoController.creditCard.cardholder}}</div><div>{{cardInfoController.creditCard.type}}&nbsp;&hellip;{{cardInfoController.creditCard.number.slice(-4)}}&nbsp;({{cardInfoController.creditCard.expirationDate}})</div></div><div><che-label-container che-label-name="Billing Information"></che-label-container></div><ng-form name="cardInfoForm"><che-input che-form="cardInfoForm" che-label-name="Street Address" che-name="streetAddress" che-place-holder="" aria-label="Street address" ng-model="cardInfoController.creditCard.streetAddress" ng-change="cardInfoController.infoChanged(cardInfoForm.$valid)" required="" ng-maxlength="128"><div ng-message="required">A street address is required.</div><div ng-message="maxlength">The street address has to be less than 128 characters long.</div></che-input><che-input che-form="cardInfoForm" che-label-name="City" che-name="city" che-place-holder="" che-type-city="" aria-label="City" ng-model="cardInfoController.creditCard.city" ng-change="cardInfoController.infoChanged(cardInfoForm.$valid)" required="" ng-maxlength="128"><div ng-message="required">A city name is required.</div><div ng-message="maxlength">The city name has to be less than 128 characters long.</div></che-input><che-input che-form="cardInfoForm" che-label-name="State" che-name="state" che-place-holder="" che-type-city="" aria-label="State" ng-model="cardInfoController.creditCard.state" ng-change="cardInfoController.infoChanged(cardInfoForm.$valid)" required="" ng-maxlength="128"><div ng-message="required">A state name is required.</div><div ng-message="maxlength">The state name has to be less than 128 characters long.</div></che-input><che-select che-form="cardInfoForm" che-name="country" che-label-name="Country" che-place-holder="" ng-change="cardInfoController.infoChanged(cardInfoForm.$valid)" ng-model="cardInfoController.creditCard.country" che-value="cardInfoController.creditCard.country" che-option-values="cardInfoController.countries" required=""><div ng-message="required">A country is required.</div></che-select></ng-form><che-label-container ng-if="cardInfoController.creditCard.token" class="card-info-delete-label" che-label-name="Delete Billing Info" che-label-description="This is irreversible."><che-button-danger che-button-title="Delete" ng-click="cardInfoController.deleteCard($event)"></che-button-danger></che-label-container></div>'),e.put("app/billing/error-popup/error-popup.html",'<che-popup title="Cant update billing information" on-close="errorPopupController.hide()"><div class="error-popup-content" layout="column"><div layout="column"><p ng-repeat="message in errorPopupController.messages">{{message}}</p></div><div flex="" layout="column" layout-align="end end"><che-button-cancel-flat che-button-title="Close" ng-click="errorPopupController.hide()"></che-button-cancel-flat></div></div></che-popup>'),e.put("app/billing/invoices/list-invoices.html",'<div class=""><md-progress-linear md-mode="indeterminate" ng-show="listInvoicesController.isLoading"></md-progress-linear></div><md-content class="invoices-content"><div ng-show="!listInvoicesController.isLoading"><che-list-header flex="100" che-input-placeholder="Search" che-search-model="listInvoicesController.filter.creationDate" che-hide-search="listInvoicesController.invoices.length === 0" che-hide-header="(listInvoicesController.invoices | filter:listInvoicesController.filter).length === 0"><div flex="100" layout="row" layout-align="start stretch" class="che-list-item-row"><div layout="row" layout-align="start center"></div><div flex="" hide-xs="" layout-gt-xs="row" layout-align="start center" class="che-list-item-details"><che-list-header-column flex-gt-xs="40" che-sort-value="listInvoicesController.orderBy" che-sort-item="creationDate" che-column-title="Date"></che-list-header-column><che-list-header-column flex-gt-xs="40" che-sort-value="listInvoicesController.orderBy" che-sort-item="totalPrice" che-column-title="Price"></che-list-header-column><che-list-header-column flex-gt-xs="20" che-column-title="Actions"></che-list-header-column></div></div></che-list-header><che-list flex="" ng-if="listInvoicesController.invoices && listInvoicesController.invoices.length > 0"><che-list-item ng-repeat="invoice in listInvoicesController.invoices | orderBy:listInvoicesController.orderBy | filter:listInvoicesController.filter" flex-gt-sm="100" flex="33" ng-mouseover="hover=true" ng-mouseout="hover=false"><div flex="100" layout="row" layout-align="start stretch" class="che-list-item-row user-list-row"><div flex="" layout-xs="column" layout-gt-xs="row" layout-align-gt-xs="start center" layout-align-xs="start start" class="che-list-item-details"><div flex-gt-xs="40" class="che-list-item-name"><span class="che-xs-header noselect" hide-gt-xs="">Date</span> <span>{{invoice.creationDate}}</span></div><div flex-gt-xs="40" class="price-details"><span class="che-xs-header noselect" hide-gt-xs="">Price</span> <span>${{invoice.totalPrice}}</span></div><div flex-gt-xs="20"><span class="che-xs-header noselect" hide-gt-xs="">Actions</span> <span class="che-list-actions"><a ng-if="invoice.preview" href="{{invoice.preview.href}}" target="_blank" type="text/html" uib-tooltip="Preview invoice"><span class="fa fa-chevron-circle-right invoice-action"></span></a></span></div></div></div></che-list-item></che-list><div class="che-list-empty"><span ng-show="listInvoicesController.invoices.length > 0 && (listInvoicesController.invoices | filter:listInvoicesController.filter).length === 0">No invoices found.</span> <span ng-show="listInvoicesController.invoices.length === 0">There are no invoices.</span></div></div></md-content>'),e.put("app/billing/ram-info/more-ram-dialog.html",'<che-popup title="Get More RAM" on-close="moreRamController.hide()"><ng-form name="ramForm"><div class="more-ram-dialog-content" layout="column"><div layout="column" ng-if="moreRamController.currentStep === moreRamController.step.ONE"><div>In a team, the first {{moreRamController.freeRAM}} GB RAM is free. <span ng-show="moreRamController.ramPackage">Additional RAM costs ${{moreRamController.price}} / month / {{moreRamController.amount}}.</span></div><div class="title">Your account settings</div><div>Your account currently has {{moreRamController.totalRAM | numberRound:0}} GB RAM and {{moreRamController.usedRAM | numberRound:0}} GB in use. <span ng-show="moreRamController.ramPackage">You can add more RAM to the account.</span></div><div ng-show="moreRamController.ramPackage"><div class="title">Do you want to add more RAM to the account?</div><div class="get-more-ram-input">I need <input ng-model="moreRamController.value" ng-form="ramForm" class="value" type="number" ng-disabled="moreRamController.isLoading" required="" che-type-number="" min="{{moreRamController.minValue}}" ng-min="moreRamController.minValue" max="{{moreRamController.maxValue}}" ng-max="moreRamController.maxValue"> GB more RAM.</div><div><div class="error-label"><div ng-show="ramForm.$invalid">The RAM value should be from {{moreRamController.minValue | numberRound:0}} GB to {{moreRamController.maxValue | numberRound:0}} GB</div></div></div></div><div ng-show="!moreRamController.ramPackage" class="warning-label"><i class="fa-exclamation-triangle fa fa-2x"></i> The RAM tariffs package is not defined. Please, contact system admin.</div><div ng-if="moreRamController.ramPackage && ramForm.$valid && moreRamController.value"><div ng-show="moreRamController.ramPackage" class="info-label">Your workspaces will have a {{moreRamController.timeout}} hour idle timeout.</div>Your request will cost ${{moreRamController.calcRequestMonthlyCost() | numberRound:2}} / month / {{moreRamController.value | numberRound:0}} GB.<br>You will be charged ${{moreRamController.calcChargedAmount() | numberRound:2}} now for the remainder of the current month.<br>You will be charged ${{moreRamController.calcNextMonthChargeAmount() | numberRound:2}} on {{moreRamController.nextMonthChargeDate | date:\'dd-MMM-yyyy\'}} for {{moreRamController.totalRAM + moreRamController.value | numberRound:0}} GB RAM for the next month.</div></div><div layout="column" ng-if="moreRamController.currentStep === moreRamController.step.TWO"><div>Add your billing information to your account:</div><card-info credit-card="moreRamController.creditCard" credit-card-show-widget="true" credit-card-on-change="moreRamController.creditCardChanged(creditCard)"></card-info></div><div flex="" layout="column" layout-align="end end"><div layout="row" layout-align="end center" class="buttons-layout"><che-button-primary che-button-title="Continue" ng-disabled="ramForm.$invalid || moreRamController.isLoading || !moreRamController.ramPackage" ng-click="moreRamController.getMoreRAM()"></che-button-primary><che-button-cancel-flat che-button-title="Cancel" ng-click="moreRamController.hide()" ng-disabled="moreRamController.isLoading" tabindex="0"></che-button-cancel-flat></div></div></div></ng-form></che-popup>'),e.put("app/billing/ram-info/ram-info.html",'<div class="ram-info-box" layout="column"><div class="title">You have {{ramInfoController.totalRAM !== -1 ? ramInfoController.totalRAM + \' GB RAM\' : \'not limited RAM usage\'}}</div><div layout="row" layout-align="start center"><span class="value">{{ramInfoController.usedRAM}} GB</span> <span>in use</span></div></div>'),e.put("app/workspace/timeout/timeout-info.html",'<div layout="row" layout-align="start center" ng-if="timeoutInfoController.timeoutValue"><div class="timeout-info-value">{{timeoutInfoController.timeoutValue}}</div><che-button-primary-flat ng-if="timeoutInfoController.canBuy && timeoutInfoController.timeout && timeoutInfoController.timeoutValue !== timeoutInfoController.timeout" che-button-title="Buy more RAM to get {{timeoutInfoController.timeout}} idle timeout" ng-click="timeoutInfoController.getRamInfo()"></che-button-primary-flat></div>'),e.put("app/account/details/profile/codenvy-account-profile.html",'<div class="codenvy-account-profile"><ng-form name="profileInformationForm"><che-label-container che-label-name="First Name"><che-input che-form="profileInformationForm" che-name="firstName" che-place-holder="First Name" ng-model="profileAttributes.firstName" required="" ng-maxlength="128"><div ng-message="required">A name is required.</div><div ng-message="maxlength">The name has to be less than 128 characters long.</div></che-input></che-label-container><che-label-container che-label-name="Last Name"><che-input che-form="profileInformationForm" che-name="lastName" che-place-holder="Last Name" ng-model="profileAttributes.lastName" required="" ng-maxlength="128"><div ng-message="required">A last name is required.</div><div ng-message="maxlength">The name has to be less than 128 characters long.</div></che-input></che-label-container><che-label-container che-label-name="Phone"><che-input che-form="profileInformationForm" che-name="phone" che-place-holder="phone" che-pattern="(^[+]{0,1}[0-9-]{0,}$)" ng-model="profileAttributes.phone" ng-maxlength="15" ng-minlength="7"><div ng-message="pattern">Should be numbers and may start with a \'+\'.</div><div ng-message="minlength">The phone number has to be more than 7 characters long.</div><div ng-message="maxlength">The phone number has to be less than 15 characters long.</div></che-input></che-label-container><che-label-container che-label-name="Country"><che-select che-form="profileInformationForm" che-name="country" che-option-values="countries" che-place-holder="Select Your Country" che-value="profileAttributes.country"></che-select></che-label-container><che-label-container che-label-name="Company"><che-input che-form="profileInformationForm" che-name="department" che-place-holder="Company" ng-model="profileAttributes.employer" ng-maxlength="128"><div ng-message="maxlength">The name has to be less than 128 characters long.</div></che-input></che-label-container><che-label-container che-label-name="Role"><che-select che-option-values="jobs" che-place-holder="Select Your Role" che-value="profileAttributes.jobtitle"></che-select></che-label-container></ng-form></div>'),e.put("app/billing/card-info/add-credit-card/add-credit-card.html",'<div layout="row" layout-align="stretch center" flex="" class="add-credit-card"><div class="card-wrapper" hide-xs="" hide-sm="" show-gt-md=""></div><div class="add-credit-card-form" flex=""><ng-form class="addCreditCardForm" name="addCreditCardForm"><che-input che-form="addCreditCardForm" che-label-name="Card Number" id="cardNumber" che-name="cardNumber" che-place-holder="**** **** **** ****" aria-label="Card Number" ng-model="addCreditCardController.creditCard.number" required="" maxlength="20"><div ng-message="required">A credit card number is required.</div></che-input><che-input che-form="addCreditCardForm" che-label-name="Cardholder" che-name="cardholder" che-place-holder="" aria-label="Cardholder" ng-model="addCreditCardController.creditCard.cardholder" required="" ng-maxlength="128"><div ng-message="required">A cardholder name is required.</div><div ng-message="maxlength">The name has to be less than 128 characters long.</div></che-input><che-input che-form="addCreditCardForm" che-label-name="Expiration" che-name="expires" che-place-holder="**/**" aria-label="Expiration" ng-model="addCreditCardController.creditCard.expirationDate" required="" ng-pattern="/^\\d{2}\\s?\\/\\s?(?:\\d{2}|\\d{4})$/"><div ng-message="required">An expiration date is required.</div><div ng-message="pattern">A valid expiration date is required.</div></che-input><che-input che-form="addCreditCardForm" che-label-name="CVV" che-name="cvv" che-place-holder="***" aria-label="CVV" ng-model="addCreditCardController.creditCard.cvv" required="" ng-minlength="3" ng-maxlength="4" ng-pattern="/^\\d{3,4}$/"><div ng-message="required">A CVV code is required.</div><div ng-message="maxlength">The CVV code has to be less than 4 digits long.</div><div ng-message="minlength">The CVV code has to be more than 3 digits long.</div><div ng-message="pattern">A valid CVV code is required.</div></che-input><che-input che-form="addCreditCardForm" che-label-name="Postal Code" che-name="postcode" che-place-holder="***" aria-label="Postal code" ng-model="addCreditCardController.creditCard.postcode" required="" ng-minlength="3" ng-maxlength="10"><div ng-message="required">A postal code is required.</div><div ng-message="maxlength">The postal code has to be less than 10 symbols long.</div><div ng-message="minlength">The postal code has to be more than 3 symbols long.</div></che-input></ng-form></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-d0b5c44b32.js.map